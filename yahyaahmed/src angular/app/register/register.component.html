<div class="register-form container mt-5">
  <h2 class="text-center mb-4">Créer un compte</h2>
  <form (ngSubmit)="registerUser()" #registerForm="ngForm" class="bg-light p-4 rounded shadow">
    <div class="row">
      <!-- Email -->
      <div class="col-md-6 mb-3">
        <label for="email" class="form-label">Email :</label>
        <input
          type="email"
          id="email"
          [(ngModel)]="user.email"
          name="email"
          required
          email
          class="form-control"
          #emailField="ngModel"
        />
        <div *ngIf="emailField.invalid && emailField.touched" class="text-danger">
          <small *ngIf="emailField.errors?.['required']">L'email est obligatoire.</small>
          <small *ngIf="emailField.errors?.['email']">Format invalide.</small>
        </div>
      </div>

      <!-- Mot de passe -->
      <div class="col-md-6 mb-3">
        <label for="password" class="form-label">Mot de passe :</label>
        <input
          type="password"
          id="password"
          [(ngModel)]="user.password"
          name="password"
          required
          minlength="6"
          class="form-control"
          #passwordField="ngModel"
        />
        <div *ngIf="passwordField.invalid && passwordField.touched" class="text-danger">
          <small *ngIf="passwordField.errors?.['required']">Mot de passe requis.</small>
          <small *ngIf="passwordField.errors?.['minlength']">6 caractères min.</small>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Rôle -->
      <div class="col-md-6 mb-3">
        <label for="role" class="form-label">Rôle :</label>
        <select
          id="role"
          [(ngModel)]="user.role"
          name="role"
          required
          class="form-control"
        >
          <option value="">Sélectionnez un rôle</option>
          <option value="COMMERCIAL">Commercial</option>
          <option value="RESPONSABLERH">Responsable RH</option>
        </select>
      </div>

      <!-- Nom -->
      <div class="col-md-6 mb-3">
        <label for="name" class="form-label">Nom :</label>
        <input
          type="text"
          id="name"
          [(ngModel)]="user.name"
          name="name"
          class="form-control"
        />
      </div>
    </div>

    <div class="row">
      <!-- Adresse -->
      <div class="col-md-6 mb-3">
        <label for="address" class="form-label">Adresse :</label>
        <input
          type="text"
          id="address"
          [(ngModel)]="user.address"
          name="address"
          class="form-control"
        />
      </div>

      <!-- Téléphone -->
      <div class="col-md-6 mb-3">
        <label for="phone" class="form-label">Téléphone :</label>
        <input
          type="text"
          id="phone"
          [(ngModel)]="user.phone"
          name="phone"
          pattern="^[0-9]+$"
          class="form-control"
          #phoneField="ngModel"
        />
        <div *ngIf="phoneField.invalid && phoneField.touched" class="text-danger">
          <small *ngIf="phoneField.errors?.['pattern']">Chiffres uniquement.</small>
        </div>
      </div>
    </div>

    <div class="mb-3">
      <!-- Date de naissance -->
      <label for="birthDate" class="form-label">Date de naissance :</label>
      <input
        type="date"
        id="birthDate"
        [(ngModel)]="user.birthDate"
        name="birthDate"
        class="form-control"
      />
    </div>

    <!-- Boutons -->
    <button type="submit" class="btn btn-primary w-100 mb-2" [disabled]="registerForm.invalid">
      S'inscrire
    </button>
    <button type="button" class="btn btn-secondary w-100" (click)="navigateToLogin()">
      Vous avez déjà un compte ? Se connecter
    </button>
  </form>
</div>
